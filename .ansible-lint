---
# Ansible-lint configuration for DHIS2 + Wazuh project

profile: production

exclude_paths:
  - .git/
  - .github/
  - molecule/
  - .molecule/
  - .cache/
  - test/
  - __pycache__/

# Enable specific rule sets
enable_list:
  - yaml
  - fqcn-builtins
  - no-handler
  - no-jinja-when

# Skip specific rules that are not applicable or too strict
skip_list:
  - role-name  # We have descriptive role names
  - galaxy[no-changelog]  # Not required for internal roles
  - fqcn[action-core]  # Allow short module names for readability
  - var-naming[no-role-prefix]  # Allow variables without role prefix
  - name[casing]  # Allow flexible task naming
  - risky-shell-pipe  # Some shell commands need pipes

# Configure specific rules
rules:
  line-length:
    max: 120
  truthy:
    allowed-values: ['true', 'false', 'on', 'off', 'yes', 'no']
  braces:
    max-spaces-inside: 1
    min-spaces-inside: 0
  brackets:
    max-spaces-inside: 1
    min-spaces-inside: 0
  octal-values:
    forbid-implicit-octal: true
    forbid-explicit-octal: false

# Mock modules and roles that might not be available during linting
mock_modules:
  - custom_lxd
  - community.general.ufw

mock_roles: []

# Use specific Ansible version for linting
supported_python:
  - "3.9"
  - "3.10" 
  - "3.11"
  - "3.12"